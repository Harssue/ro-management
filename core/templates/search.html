{% extends "base.html" %}
{% block title %}Search{% endblock title %}

{% block main-content %}
<style>
    .container {
        padding: 20px;
        height: 100%;
    }

    .heading {
        text-align: center;
        margin-bottom: 30px;
        font-size: 2rem;
        color: black;
    }

    .form1 {
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        font-size: 1.2rem;
    }

    .btn-custom {
        padding: 8px 16px;
        margin: 5px;
        background-color: #007bff;
        color: white;
        border: none;
        border-radius: 4px;
        cursor: pointer;
        transition: background 0.3s ease;
        text-decoration: none;
        display: inline-block;
    }

    .para{
        display: flex;
        align-items: center;
        justify-content: center;
    }
</style>

    <section class="container">
        <h3 class='heading'>Search Customer</h3>
        <form class='form1' method="get">
            <input type="text" name="id" placeholder = 'Enter Customer ID'>
            <button class='btn-custom' type="submit">Search</button>
            <a href="{% url 'cust_data' %}" class="btn btn-secondary">Cancel</a>
        </form>
        {% if customer %}
            <h2 class='heading'>Customer Details</h2>
            <p class="para">Name: {{customer.name}}</p>
            <p class="para">Address: {{customer.address}}</p>
            <p class="para">Phone Number: {{customer.phone}}</p>
            <p class="para">Installation Date: {{customer.installation_date}}</p>

            <h3 class="heading">Service History</h3>
            <ul>
                {% for service in customer.service_history.all %}
                    <li class="para" id="get_list">{{ service.service_date }} - {{ service.parts_used }}</li>
                {% endfor %}
            </ul>
        {% endif %}
    </section>
{% endblock main-content %}